input {
<% if @inputs.empty? -%>
  tcp {
    type => "tcp-input"
    port => "5959"
    codec => "json"
  }
<% else -%>
    <%= LogstashConf.section_to_str(@inputs) %>
<% end -%>
}

<% unless @filters.empty? -%>
filter {
  <%= LogstashConf.section_to_str(@filters, @version, @patterns_dir) %>
}
<% end -%>

output {
<% if @debug -%>
    stdout { debug => true }
<% end -%>
<% if @outputs { %>
  <%= LogstashConf.section_to_str(@inputs) %>
<% end -%>
}
